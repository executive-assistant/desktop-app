#!/bin/sh
set -eu

echo "[pre-push] running web tests"
npm run lint
npm run test:ci

echo "[pre-push] building web app"
npm run build

echo "[pre-push] running rust format check"
cd src-tauri
cargo fmt -- --check

echo "[pre-push] running clippy"
cargo clippy --all-targets --all-features -- -D warnings

echo "[pre-push] running rust tests"
cargo test
